---
// Animated background component with different pattern variations
interface Props {
  variant?: "particles" | "waves" | "grid" | "gradient";
}

const { variant = "particles" } = Astro.props;
---

<div class={`animated-bg bg-${variant}`} data-variant={variant}>
  {
    variant === "particles" && (
      <div class="particles">
        {Array.from({ length: 20 }).map(() => (
          <div class="particle" />
        ))}
      </div>
    )
  }

  {
    variant === "waves" && (
      <div class="waves">
        <div class="wave wave-1" />
        <div class="wave wave-2" />
        <div class="wave wave-3" />
      </div>
    )
  }

  {
    variant === "grid" && (
      <div class="grid-pattern">
        <div class="grid-line horizontal" />
        <div class="grid-line vertical" />
      </div>
    )
  }

  {
    variant === "gradient" && (
      <div class="gradient-orbs">
        <div class="orb orb-1" />
        <div class="orb orb-2" />
      </div>
    )
  }
</div>

<style>
  .animated-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    opacity: 0.4;
    z-index: 0;
  }

  /* Particles Variant */
  .particles {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(
      circle,
      var(--color-aurora-2),
      var(--color-aurora-3)
    );
    border-radius: 50%;
    opacity: 0.6;
    animation: float-particle 8s infinite ease-in-out;
  }

  .particle:nth-child(1) {
    left: 10%;
    top: 20%;
    animation-delay: 0s;
  }
  .particle:nth-child(2) {
    left: 20%;
    top: 60%;
    animation-delay: 0.5s;
  }
  .particle:nth-child(3) {
    left: 30%;
    top: 40%;
    animation-delay: 1s;
  }
  .particle:nth-child(4) {
    left: 40%;
    top: 80%;
    animation-delay: 1.5s;
  }
  .particle:nth-child(5) {
    left: 50%;
    top: 30%;
    animation-delay: 2s;
  }
  .particle:nth-child(6) {
    left: 60%;
    top: 70%;
    animation-delay: 2.5s;
  }
  .particle:nth-child(7) {
    left: 70%;
    top: 50%;
    animation-delay: 3s;
  }
  .particle:nth-child(8) {
    left: 80%;
    top: 20%;
    animation-delay: 3.5s;
  }
  .particle:nth-child(9) {
    left: 90%;
    top: 60%;
    animation-delay: 4s;
  }
  .particle:nth-child(10) {
    left: 15%;
    top: 90%;
    animation-delay: 4.5s;
  }
  .particle:nth-child(11) {
    left: 25%;
    top: 10%;
    animation-delay: 5s;
  }
  .particle:nth-child(12) {
    left: 35%;
    top: 65%;
    animation-delay: 5.5s;
  }
  .particle:nth-child(13) {
    left: 45%;
    top: 45%;
    animation-delay: 6s;
  }
  .particle:nth-child(14) {
    left: 55%;
    top: 85%;
    animation-delay: 6.5s;
  }
  .particle:nth-child(15) {
    left: 65%;
    top: 25%;
    animation-delay: 7s;
  }
  .particle:nth-child(16) {
    left: 75%;
    top: 75%;
    animation-delay: 7.5s;
  }
  .particle:nth-child(17) {
    left: 85%;
    top: 35%;
    animation-delay: 8s;
  }
  .particle:nth-child(18) {
    left: 95%;
    top: 55%;
    animation-delay: 8.5s;
  }
  .particle:nth-child(19) {
    left: 12%;
    top: 48%;
    animation-delay: 9s;
  }
  .particle:nth-child(20) {
    left: 88%;
    top: 92%;
    animation-delay: 9.5s;
  }

  @keyframes float-particle {
    0%,
    100% {
      transform: translateY(0) translateX(0);
      opacity: 0.3;
    }
    50% {
      transform: translateY(-30px) translateX(20px);
      opacity: 0.8;
    }
  }

  /* Waves Variant */
  .waves {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .wave {
    position: absolute;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent 40%,
      var(--color-aurora-2) 50%,
      transparent 60%
    );
    animation: wave-move 15s infinite linear;
  }

  .wave-1 {
    opacity: 0.1;
    animation-duration: 12s;
  }

  .wave-2 {
    opacity: 0.15;
    animation-duration: 18s;
    animation-direction: reverse;
  }

  .wave-3 {
    opacity: 0.1;
    animation-duration: 24s;
  }

  @keyframes wave-move {
    0% {
      transform: translate(-50%, -50%) rotate(0deg);
    }
    100% {
      transform: translate(-50%, -50%) rotate(360deg);
    }
  }

  /* Grid Variant */
  .grid-pattern {
    position: relative;
    width: 100%;
    height: 100%;
    background-image:
      linear-gradient(
        rgba(var(--color-aurora-2-rgb), 0.05) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        rgba(var(--color-aurora-2-rgb), 0.05) 1px,
        transparent 1px
      );
    background-size: 50px 50px;
    animation: grid-pulse 4s infinite ease-in-out;
  }

  @keyframes grid-pulse {
    0%,
    100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.6;
    }
  }

  /* Gradient Orbs Variant */
  .gradient-orbs {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.3;
    animation: orb-float 10s infinite ease-in-out;
  }

  .orb-1 {
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, var(--color-aurora-2), transparent);
    top: 20%;
    left: 10%;
    animation-duration: 12s;
  }

  .orb-2 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, var(--color-aurora-3), transparent);
    bottom: 20%;
    right: 10%;
    animation-duration: 15s;
    animation-delay: 2s;
  }

  @keyframes orb-float {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -30px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }
</style>
